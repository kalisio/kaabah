(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{376:function(t,e,a){"use strict";a.r(e);var s=a(27),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"getting-started"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting started")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("Because "),a("strong",[t._v("Kaabah")]),t._v(" relies on "),a("a",{attrs:{href:"https://www.terraform.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terraform"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://docs.docker.com/engine/swarm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker Swarm"),a("OutboundLink")],1),t._v(", we assume you are enough familiar with them. If not, please take a while to discover them.")])]),t._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),a("h3",{attrs:{id:"terraform"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#terraform"}},[t._v("#")]),t._v(" Terraform")]),t._v(" "),a("p",[t._v("You must have "),a("strong",[t._v("Terraform")]),t._v(" installed on your computer. For now "),a("strong",[t._v("Kaabah")]),t._v(" requires the "),a("code",[t._v("0.12.29")]),t._v(" version of Terraform. Please refer to the "),a("a",{attrs:{href:"https://learn.hashicorp.com/terraform/getting-started/install.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("official guide"),a("OutboundLink")],1),t._v(" to install "),a("strong",[t._v("Terraform")]),t._v(".")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("You can directly download the "),a("code",[t._v("0.12.29")]),t._v(" release "),a("a",{attrs:{href:"https://releases.hashicorp.com/terraform/0.12.29",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"providers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#providers"}},[t._v("#")]),t._v(" Providers")]),t._v(" "),a("h4",{attrs:{id:"account-authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#account-authentication"}},[t._v("#")]),t._v(" Account authentication")]),t._v(" "),a("p",[t._v("To enable "),a("strong",[t._v("Terraform")]),t._v(" to exploit the providers APIs, you must have created an account on the various providers and be aware of your credentials to access the APIs.")]),t._v(" "),a("h4",{attrs:{id:"instances-authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#instances-authentication"}},[t._v("#")]),t._v(" Instances authentication")]),t._v(" "),a("p",[t._v("When running "),a("strong",[t._v("Kaabah")]),t._v(" and to get connected to your instances, you must be aware of the private SSH keys to access the instances. These keys are generally created using the providers functionalities.")]),t._v(" "),a("p",[t._v("In addition, "),a("strong",[t._v("Kaabah")]),t._v(" makes the assumption you already have a "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Bastion_host",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[t._v("Bastion")]),a("OutboundLink")],1),t._v(" installed for each providers. You must provide the information to access the bastions:")]),t._v(" "),a("ul",[a("li",[t._v("the public IP")]),t._v(" "),a("li",[t._v("the SSH private key")]),t._v(" "),a("li",[t._v("the SSH public key")]),t._v(" "),a("li",[t._v("the SSH user")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("When needed, you can use the following command to retrieve the public key from the private key:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ssh")]),t._v("-keygen -y -f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(".pem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(".pub\n")])])])]),t._v(" "),a("h4",{attrs:{id:"network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network"}},[t._v("#")]),t._v(" Network")]),t._v(" "),a("p",[t._v("Because each of the cloud providers do not offer the same solutions regarding the network, there are some specificities to take into account. Mainly, to use the "),a("strong",[t._v("OVH")]),t._v(" module, it is necessary beforehand to create a private network named "),a("strong",[t._v("Private-Net")]),t._v(" and a subnet named "),a("strong",[t._v("Private-Subnet")]),t._v(". In the other hand, you can assign to the subnet the "),a("strong",[t._v("CIDR")]),t._v(" of your choice, "),a("strong",[t._v("Kaabah")]),t._v(" will retrieve it.")]),t._v(" "),a("h3",{attrs:{id:"docker-tls-certificate-authority"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-tls-certificate-authority"}},[t._v("#")]),t._v(" Docker TLS Certificate Authority")]),t._v(" "),a("p",[a("strong",[t._v("Kaabah")]),t._v(" ensures TLS authentication for Docker daemon and requires a Certificate Authority (CA). The following files are required to run "),a("strong",[t._v("Kaabah")]),t._v(":")]),t._v(" "),a("ul",[a("li",[t._v("the CA private key: "),a("code",[t._v("ca.key")])]),t._v(" "),a("li",[t._v("the CA public key: "),a("code",[t._v("ca.cert")])]),t._v(" "),a("li",[t._v("the CA passphrase file: "),a("code",[t._v("ca.pass")])])]),t._v(" "),a("p",[t._v("You can use the following "),a("a",{attrs:{href:"https://gist.github.com/cnouguier/c5cb4ba99ad45bced4476e2d175342a1",target:"_blank",rel:"noopener noreferrer"}},[t._v("script"),a("OutboundLink")],1),t._v(" to create these files.")]),t._v(" "),a("h3",{attrs:{id:"terraform-backend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#terraform-backend"}},[t._v("#")]),t._v(" Terraform backend")]),t._v(" "),a("p",[t._v("You must have the credentials set to access the desired bucket on AWS S3 otherwise "),a("strong",[t._v("Terraform")]),t._v(" won't initialize.\nIf needed, follow this "),a("a",{attrs:{href:"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/setup-credentials.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("guide"),a("OutboundLink")],1),t._v(" to set up your credentials.")]),t._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("h3",{attrs:{id:"clone-the-github-repository"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#clone-the-github-repository"}},[t._v("#")]),t._v(" Clone the Github repository")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/kalisio/kaabah.git\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" kaabah\n")])])]),a("h3",{attrs:{id:"setup-your-terraform-environment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-your-terraform-environment"}},[t._v("#")]),t._v(" Setup your Terraform environment")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("Security")]),t._v(" "),a("p",[t._v("Hard-coding credentials into any "),a("strong",[t._v("Terraform")]),t._v(" configuration is not recommended, and risks secret leakage should this file ever be committed to a public version control system.\nWe strongly recommend to store the credentials using environment variables.")])]),t._v(" "),a("ol",[a("li",[t._v("Define your "),a("strong",[t._v("Scaleway")]),t._v(" credentials")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TF_VAR_SCW_ORGANIZATION_ID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<ORGANIZATION-ID>"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TF_VAR_SCW_ACCESS_KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<ACCESS-KEY>"')]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TF_VAR_SCW_SECRET_KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<SECRET_KEY>"')]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Define your "),a("strong",[t._v("AWS")]),t._v(" credentials")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TF_VAR_AWS_ACCESS_KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<ACCESS-KEY>"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TF_VAR_AWS_SECRET_KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<SECRET-KEY>"')]),t._v(" \n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("Define your "),a("strong",[t._v("OVH")]),t._v(" credentials")])]),t._v(" "),a("p",[t._v("The "),a("strong",[t._v("OVH")]),t._v(" module relies on the "),a("a",{attrs:{href:"https://www.terraform.io/docs/providers/openstack/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenStack provider"),a("OutboundLink")],1),t._v(", thus you need to provide the\n"),a("strong",[t._v("OpenStack")]),t._v(" credentials only:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("OS_AUTH_URL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://auth.cloud.ovh.net/v3"')]),t._v(" // authentication URL\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("OS_TENANT_ID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<TENANT-ID>"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Horizon project ID")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("OS_TENANT_NAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<TENANT-NAME>"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Horizon project name")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("OS_USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<USERNAME>"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Horizon username")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("OS_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<PASSWORD>"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Horizon password")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("Define your bastions configuration")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" TF_VAR_bastion_ips "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{ AWS = "X.X.X.X", SCW = "Y.Y.Y.Y", OVH = "Z.Z.Z.Z" }\'')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" TF_VAR_bastion_ssh_keys "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{ AWS = "aws.pem", SCW = "scw.pem", OVH = "ovh.pem" }\'')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" TF_VAR_bastion_ssh_users "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{ AWS = "user", SCW = "user", OVH = "user" }\'')]),t._v("\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("Define your Certificate Authority files")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TF_VAR_docker_tls_ca_key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../workspaces/master/ca.key"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TF_VAR_docker_tls_ca_cert")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../workspaces/master/ca.cert"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TF_VAR_docker_tls_ca_pass")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../workspaces/master/ca.pass"')]),t._v("\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[t._v("Define the "),a("a",{attrs:{href:"https://www.terraform.io/docs/backends/types/s3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("S3 backend"),a("OutboundLink")],1),t._v(" properties")])]),t._v(" "),a("p",[t._v("Create a file "),a("code",[t._v("backend.config")]),t._v(" with the following properties:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('bucket = "the name of the bucket"\nregion = "the region of the bucket"\nkey    = "the key to the states"\n')])])]),a("ol",{attrs:{start:"7"}},[a("li",[t._v("Initialize Terraform")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$terraform")]),t._v(" init -backend-config"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path/to/your/backend.config"')]),t._v("\n")])])]),a("h2",{attrs:{id:"usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),a("h3",{attrs:{id:"create-a-workspace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-workspace"}},[t._v("#")]),t._v(" Create a workspace")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$terraform")]),t._v(" workspace new "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n")])])]),a("p",[t._v("Terraform will automatically switch to the created workspace "),a("code",[t._v("test")])]),t._v(" "),a("h3",{attrs:{id:"configure-the-workspace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-workspace"}},[t._v("#")]),t._v(" Configure the workspace")]),t._v(" "),a("p",[t._v("We recommend to create a "),a("code",[t._v("tfvars")]),t._v(" file to override the default variables for your workspace. For instance, the "),a("code",[t._v("test.tfvars")]),t._v(" file may look like this:")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('cloud_provider = "AWS"\n\nregion = "eu-central-1"\n\nssh_key = "../workspaces/master/test.pem"\n\nmanager_instance_count = 1\n\nmanager_instance_type = "t2.small"\n\nmanager_additional_volume_size = 500\n\nmanager_additional_volume_mount_point = "/mnt/extra"\n\nmanager_ips = [\n  "3.120.200.41"\n]\n\nmanager_crontabs = [\n  "tests/crontab"\n]\n\nmanager_user_scripts = [\n  "tests/user-scripts/manager-0.sh"\n]\n\nworker_instance_type = "t3.large"\n\nworker_instance_count = 2\n\nworker_additional_volume_size = 500\n\nworker_user_scripts=[\n  "tests/user-scripts/worker-0.sh",\n  "tests/user-scripts/worker-1.sh"\n]\n')])])]),a("h3",{attrs:{id:"apply-the-changes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apply-the-changes"}},[t._v("#")]),t._v(" Apply the changes")]),t._v(" "),a("p",[t._v("Within your workspace, apply Terraform with your specific configuration:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$terraform")]),t._v(" apply -var-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path/to/your/config.tfvars"')]),t._v("\n")])])]),a("p",[t._v("After a while, your cluster should be created and the corresponding states stored in your "),a("strong",[t._v("S3")]),t._v(" backend.")]),t._v(" "),a("h3",{attrs:{id:"check-the-infrastructure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#check-the-infrastructure"}},[t._v("#")]),t._v(" Check the infrastructure")]),t._v(" "),a("p",[t._v("Get connected to the manager of your infrastructure using "),a("code",[t._v("ssh")]),t._v(" and type the following commands:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ubuntu@test-aws-manager:~$ k-swarm-info\n\nNodes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("-----\n\nID                              "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("HOSTNAME")]),t._v("                STATUS          ADDRESS         LABELS\n4ylkfx3vis3zlxqwvs7rcms0p       test-manager        Ready/Active    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.31")]),t._v(".25.252\nsvpnq8a71v90hu7ir6ng7335d       test-worker-0       Ready/Active    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.31")]),t._v(".21.238  \njwgud49dpjvxfdkgnfa1we9la       test-worker-1       Ready/Active    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("172.31")]),t._v(".19.239  \n\nStacks "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("------\n\nNAME            SERVICES\n\nServices "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("------\n\nID                  NAME                   MODE                REPLICAS            IMAGE                        PORTS\n\nContainers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("-----\n\ntest-manager\nID              NAMES   STATUS\n\ntest-worker-0\nID              NAMES   STATUS\n\ntest-worker-1\nID              NAMES   STATUS\nubuntu@test-aws-manager:~$\n")])])]),a("h3",{attrs:{id:"destroy-the-infrastructure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#destroy-the-infrastructure"}},[t._v("#")]),t._v(" Destroy the infrastructure")]),t._v(" "),a("p",[t._v("To destroy the created infrastructure, you can simply type the following command:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$terraform")]),t._v(" destroy -var-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path/to/your/config.tfvars"')]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);