<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration variables | Kaabah</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="https://s3.eu-central-1.amazonaws.com/kalisioscope/kaabah/kaabah-icon-64x64.png">
    <link rel="manifest" href="/kaabah/manifest.json">
    <meta name="description" content="A Terraform solution to build and operate Docker Swarm infrastructures">
    <link rel="preload" href="/kaabah/assets/css/0.styles.b0d4fd5f.css" as="style"><link rel="preload" href="/kaabah/assets/js/app.1334a6cb.js" as="script"><link rel="preload" href="/kaabah/assets/js/2.9437c851.js" as="script"><link rel="preload" href="/kaabah/assets/js/17.81b5f98f.js" as="script"><link rel="preload" href="/kaabah/assets/js/4.cfcd4076.js" as="script"><link rel="prefetch" href="/kaabah/assets/js/10.c34ea2e3.js"><link rel="prefetch" href="/kaabah/assets/js/11.58873f73.js"><link rel="prefetch" href="/kaabah/assets/js/12.e68e72a6.js"><link rel="prefetch" href="/kaabah/assets/js/13.fb12e602.js"><link rel="prefetch" href="/kaabah/assets/js/14.16640ec9.js"><link rel="prefetch" href="/kaabah/assets/js/15.3c27682e.js"><link rel="prefetch" href="/kaabah/assets/js/16.d07c8c01.js"><link rel="prefetch" href="/kaabah/assets/js/18.1a800e52.js"><link rel="prefetch" href="/kaabah/assets/js/19.47977048.js"><link rel="prefetch" href="/kaabah/assets/js/20.9da25748.js"><link rel="prefetch" href="/kaabah/assets/js/21.7c4b4274.js"><link rel="prefetch" href="/kaabah/assets/js/3.416bafba.js"><link rel="prefetch" href="/kaabah/assets/js/5.813644f4.js"><link rel="prefetch" href="/kaabah/assets/js/6.81be51ac.js"><link rel="prefetch" href="/kaabah/assets/js/7.a364ba67.js"><link rel="prefetch" href="/kaabah/assets/js/8.3e3d8346.js"><link rel="prefetch" href="/kaabah/assets/js/9.2a2330d8.js">
    <link rel="stylesheet" href="/kaabah/assets/css/0.styles.b0d4fd5f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kaabah/" class="home-link router-link-active"><!----> <span class="site-name">Kaabah</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kaabah/about/introduction.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kaabah/guides/understanding-kaabah.html" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/kaabah/reference/configuration-variables.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Reference
</a></div><div class="nav-item"><a href="/kaabah/tips/" class="nav-link">
  Tips
</a></div><div class="nav-item"><a href="https://github.com/kalisio/kaabah" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kaabah/about/introduction.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/kaabah/guides/understanding-kaabah.html" class="nav-link">
  Guides
</a></div><div class="nav-item"><a href="/kaabah/reference/configuration-variables.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Reference
</a></div><div class="nav-item"><a href="/kaabah/tips/" class="nav-link">
  Tips
</a></div><div class="nav-item"><a href="https://github.com/kalisio/kaabah" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav> <p align="center"><a href="https://kalisio.com"><img src="https://s3.eu-central-1.amazonaws.com/kalisioscope/kalisio/kalisio-logo-black-256x84.png"></a> <br> <!----></p> <ul class="sidebar-links"><li><a href="/kaabah/reference/configuration-variables.html" aria-current="page" class="active sidebar-link">Configuration variables</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kaabah/reference/configuration-variables.html#providers" class="sidebar-link">Providers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kaabah/reference/configuration-variables.html#scaleway" class="sidebar-link">Scaleway</a></li><li class="sidebar-sub-header"><a href="/kaabah/reference/configuration-variables.html#aws" class="sidebar-link">AWS</a></li><li class="sidebar-sub-header"><a href="/kaabah/reference/configuration-variables.html#provider" class="sidebar-link">Provider</a></li></ul></li><li class="sidebar-sub-header"><a href="/kaabah/reference/configuration-variables.html#network" class="sidebar-link">Network</a></li><li class="sidebar-sub-header"><a href="/kaabah/reference/configuration-variables.html#instances" class="sidebar-link">Instances</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kaabah/reference/configuration-variables.html#manager" class="sidebar-link">Manager</a></li><li class="sidebar-sub-header"><a href="/kaabah/reference/configuration-variables.html#workers" class="sidebar-link">Workers</a></li></ul></li><li class="sidebar-sub-header"><a href="/kaabah/reference/configuration-variables.html#docker" class="sidebar-link">Docker</a></li></ul></li><li><a href="/kaabah/reference/helper-commands.html" class="sidebar-link">Helper commands</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="configuration-variables"><a href="#configuration-variables" class="header-anchor">#</a> Configuration variables</h1> <h2 id="providers"><a href="#providers" class="header-anchor">#</a> Providers</h2> <h3 id="scaleway"><a href="#scaleway" class="header-anchor">#</a> Scaleway</h3> <table><thead><tr><th>Variables</th> <th>Description</th></tr></thead> <tbody><tr><td><code>SCW_ORGNIZATION_ID</code></td> <td>Your <strong>Scaleway</strong> organization id</td></tr> <tr><td><code>SCW_ACCESS_KEY</code></td> <td>Your <strong>Scaleway</strong> access key</td></tr> <tr><td><code>SCW_SECRET_KEY</code></td> <td>Your <strong>Scaleway</strong> secret key</td></tr></tbody></table> <h3 id="aws"><a href="#aws" class="header-anchor">#</a> AWS</h3> <table><thead><tr><th>Variables</th> <th>Description</th></tr></thead> <tbody><tr><td><code>AWS_ACCESS_KEY</code></td> <td>Your <strong>AWS</strong> access key. This is important to note that your credential must allows access to <strong>AWS EC2</strong> and <strong>S3</strong> services</td></tr> <tr><td><code>AWS_SECRET_KEY</code></td> <td>Your <strong>AWS</strong> secret key</td></tr></tbody></table> <h3 id="provider"><a href="#provider" class="header-anchor">#</a> Provider</h3> <table><thead><tr><th>Variables</th> <th>Description</th></tr></thead> <tbody><tr><td><code>cloud_provider</code></td> <td>The provider to host the infrastructure. It must be <code>AWS</code>, <code>OVH</code> or <code>SCW</code>. There is no default value.</td></tr> <tr><td><code>region</code></td> <td>The region to host the infrastructure. There is no default value. The default value for <strong>AWS</strong> is <code>eu-central-1</code>, for <strong>OVH</strong> is <code>GRA5</code> and for <strong>Scaleway</strong> is <code>fr-par</code>.</td></tr> <tr><td><code>availability_zone</code></td> <td>The availability zone to host the infrastructure. On <strong>AWS</strong> and <strong>Scaleway</strong>, the default value is set to the first availability zone of the specified region. For instance, if you provide the <code>eu-central-1</code> region on <strong>AWS</strong>, the default value will be <code>eu-central-1a</code>, and if you provide the region <code>fr-par</code> on <strong>Scaleway</strong> the default value will be <code>fr-par-1</code></td></tr></tbody></table> <h2 id="network"><a href="#network" class="header-anchor">#</a> Network</h2> <table><thead><tr><th>Variables</th> <th>Description</th></tr></thead> <tbody><tr><td><code>ssh_user</code></td> <td>The user to get connected to the instances. On <strong>Scaleway</strong> the default value is <code>root</code> and on <strong>AWS</strong> and <strong>OVH</strong> the default value is <code>ubuntu</code>.</td></tr> <tr><td><code>ssh_key</code></td> <td>The path to the the ssh key required to get connected to the instances. There is no default value.</td></tr> <tr><td><code>bastion_ip</code></td> <td>The IP address of the bastion to be used. The default value is the value of the <code>manager_ip</code> variable.</td></tr> <tr><td><code>bastion_ssh_user</code></td> <td>The user to be used to get connected to the bastion. The default value is the value of the <code>ssh_user</code> variable.</td></tr> <tr><td><code>bastion_ssh_key</code></td> <td>The private key to be used to get connected to the bastion. The default value is the value of the <code>ssh_key</code> variable.</td></tr></tbody></table> <h2 id="instances"><a href="#instances" class="header-anchor">#</a> Instances</h2> <table><thead><tr><th>Variables</th> <th>Description</th></tr></thead> <tbody><tr><td><code>gluster_share_volume_mount_point</code></td> <td>The mount point used to mount the volume <strong>share</strong> created by <strong>Gluster</strong>. The default value is <code>/mnt/share</code>.</td></tr> <tr><td><code>rclone_conf</code></td> <td>The path to the <strong>rclone</strong> configuration you want to provision on the nodes. The default values is <code>&quot;&quot;</code>.</td></tr></tbody></table> <h3 id="manager"><a href="#manager" class="header-anchor">#</a> Manager</h3> <table><thead><tr><th>Variables</th> <th>Description</th></tr></thead> <tbody><tr><td><code>manager_instance_type</code></td> <td>The instance type of the manager instances. It must be a X86 64bits architecture and it depends on the provider. There is no default value.</td></tr> <tr><td><code>manager_instance_count</code></td> <td>The number of manager instances. The default value is <code>1</code></td></tr> <tr><td><code>manager_additional_volume_size</code></td> <td>The size in giga bytes of the additional volume. You must provide a size larger than <code>0</code> to setup an additional volume. The default value is <code>0</code></td></tr> <tr><td><code>manager_additional_volume_type</code></td> <td>The type of additional volumes to add. This option only works on AWS. The different <a href="https://docs.aws.amazon.com/fr_fr/AWSEC2/latest/UserGuide/EBSVolumeTypes.html" target="_blank" rel="noopener noreferrer">types<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> are <code>gp2</code>, <code>io1</code>, <code>st1</code> and <code>sc1</code>. The default value is <code>sc1</code></td></tr> <tr><td><code>manager_additional_volume_mount_point</code></td> <td>The mount point used to mount the devices. The default value is <code>/mnt/data</code></td></tr> <tr><td><code>manager_ips</code></td> <td>If defined, it represents the IP addressed to be retrieved and attached to each managers. On <strong>Scaleway</strong> it must be the IDs of a <a href="https://www.scaleway.com/en/faq/servers/network/#-What-is-a-flexible-IP-address" target="_blank" rel="noopener noreferrer">Flexible IP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, on <strong>AWS</strong> the address of an <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html" target="_blank" rel="noopener noreferrer">Elastic IP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and on <strong>OVH</strong> the address of a <a href="https://www.ovhcloud.com/en/bare-metal/ip/" target="_blank" rel="noopener noreferrer">Floating IP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. If undefined, the managers are assigned a public IP defined by the provider.</td></tr> <tr><td><code>manager_crontabs</code></td> <td>The crontabs file to be provisioned on the managers. The default value is <code>[]</code>.</td></tr> <tr><td><code>manager_user_scripts</code></td> <td>The user scripts to be executed when the managers are ready. It must be the file path to the script. The default value is <code>[]</code>.</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>On <strong>Scaleway</strong> the ID of a flexible IP can be retrieved using the <code>More info</code> entry of the overflow menu assigned to this flexible IP.</p></div> <h3 id="workers"><a href="#workers" class="header-anchor">#</a> Workers</h3> <table><thead><tr><th>Variables</th> <th>Description</th></tr></thead> <tbody><tr><td><code>worker_instance_type</code></td> <td>The instance type of the Docker Swarm workers. It must be a X86 64bits architecture and it depends on the provider. There is no default value</td></tr> <tr><td><code>worker_instance_count</code></td> <td>The number of worker instances. The default value is <code>0</code></td></tr> <tr><td><code>worker_additional_volume_size</code></td> <td>The size in giga bytes of the additional volume. You must provide a size larger than <code>0</code> to setup an additional volume. The default value is <code>0</code></td></tr> <tr><td><code>worker_additional_volume_type</code></td> <td>The type of additional volumes to add. This option only works on AWS. The different <a href="https://docs.aws.amazon.com/fr_fr/AWSEC2/latest/UserGuide/EBSVolumeTypes.html" target="_blank" rel="noopener noreferrer">types<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> are <code>gp2</code>, <code>io1</code>, <code>st1</code> and <code>sc1</code>. The default value is <code>sc1</code></td></tr> <tr><td><code>worker_additional_volume_mount_point</code></td> <td>The mount point used to mount the devices. The default value is <code>/mnt/data</code></td></tr> <tr><td><code>worker_user_scripts</code></td> <td>The scripts to be executed once the workers are ready. It must be a list of file paths. The default value is <code>[]</code></td></tr></tbody></table> <h2 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h2> <table><thead><tr><th>Variables</th> <th>Description</th></tr></thead> <tbody><tr><td><code>docker_version</code></td> <td>The version of the Docker engine to be installed. The available versions can be obtained using the command <code>apt-cache madison docker-ce</code> . The default value is <code>5:19.03.2~3-0~ubuntu-bionic</code></td></tr> <tr><td><code>docker_tls_ca_key</code></td> <td>The path to the CA private key. The default value is <code>ca.key</code></td></tr> <tr><td><code>docker_tls_ca_cert</code></td> <td>The path to the CA public key. The default value is <code>ca.cert</code></td></tr> <tr><td><code>docker_tls_ca_pass</code></td> <td>The path to the CA passphrase file. The default value is <code>ca.pass</code></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/kaabah/reference/helper-commands.html">
        Helper commands
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/kaabah/assets/js/app.1334a6cb.js" defer></script><script src="/kaabah/assets/js/2.9437c851.js" defer></script><script src="/kaabah/assets/js/17.81b5f98f.js" defer></script><script src="/kaabah/assets/js/4.cfcd4076.js" defer></script>
  </body>
</html>
