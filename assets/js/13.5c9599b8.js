(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{184:function(e,a,s){"use strict";s.r(a);var t=s(0),r=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"helper-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#helper-commands","aria-hidden":"true"}},[e._v("#")]),e._v(" Helper commands")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),s("p",[e._v("The helper commands are installed in "),s("code",[e._v("/usr/local/sbin")]),e._v(" and can be used out of the box.")])]),e._v(" "),s("h2",{attrs:{id:"k-label-add"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-label-add","aria-hidden":"true"}},[e._v("#")]),e._v(" k-label-add")]),e._v(" "),s("p",[s("code",[e._v("usage: k-label-add <node_id> <labels>")])]),e._v(" "),s("p",[e._v("Adds the specified labels to a given node")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$k")]),e._v("-label-add 87vv4tmksirt646er0l1jk66h "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"label1=value1 label2=value label3=value3"')]),e._v("\n")])])]),s("h2",{attrs:{id:"k-label-clear"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-label-clear","aria-hidden":"true"}},[e._v("#")]),e._v(" k-label-clear")]),e._v(" "),s("p",[s("code",[e._v("usage: k-label-clear <node_id>")])]),e._v(" "),s("p",[e._v("Clears the labels attached to a given node")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$k")]),e._v("-label-clear 87vv4tmksirt646er0l1jk66h\n")])])]),s("h2",{attrs:{id:"k-label-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-label-list","aria-hidden":"true"}},[e._v("#")]),e._v(" k-label-list")]),e._v(" "),s("p",[s("code",[e._v("usage: k-label-list <node_id>")])]),e._v(" "),s("p",[e._v("Lists the labels attached to a given node")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$k")]),e._v("-label-list 87vv4tmksirt646er0l1jk66h \nlabel1"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("value1 label2"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("value label3"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("value3\n")])])]),s("h2",{attrs:{id:"k-node-exec"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-node-exec","aria-hidden":"true"}},[e._v("#")]),e._v(" k-node-exec")]),e._v(" "),s("p",[s("code",[e._v("usage: k-node-exec -command|-c <node_id> <command>")]),e._v(" "),s("code",[e._v("usage: k-node-exec -script|-s <node_id> <script> [arguments...]")])]),e._v(" "),s("p",[e._v("Executes a command or a script on the given node.\nThe script will be automatically provisioned on the "),s("code",[e._v("tmp")]),e._v(" directory and then executed with the given arguments.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$k")]),e._v("-node-exec -c "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("\"echo 'foo bar' > foobar\"")]),e._v("\n")])])]),s("h2",{attrs:{id:"k-node-find"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-node-find","aria-hidden":"true"}},[e._v("#")]),e._v(" k-node-find")]),e._v(" "),s("p",[s("code",[e._v("usage: k-node-find <node_ip>")])]),e._v(" "),s("p",[e._v("Returns the node ID corresponding to the given node IP address")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$k")]),e._v("-node-find 172.31.34.218\n87vv4tmksirt646er0l1jk66h\n")])])]),s("h2",{attrs:{id:"k-service-check"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-service-check","aria-hidden":"true"}},[e._v("#")]),e._v(" k-service-check")]),e._v(" "),s("p",[s("code",[e._v("usage: k-service-check <service_id|service_name>")])]),e._v(" "),s("p",[e._v("Checks the status of the given service.")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("This command is often used to find why a service can't start")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$k")]),e._v("-service-check kaabah_portainer\nID                          NAME                 IMAGE           NODE                DESIRED STATE       CURRENT                                                          STATE               ERROR               PORTS\nne6otm12od24hmj576bj8322c   kaabah_portainer.1   portainer/portainer:latest@sha256:07c0e19e28e18414dd02c313c36b293758acf197d5af45077e3dd69c630e25cc   ip-172-31-36-140    Running             Running about an hour ago\n")])])]),s("h2",{attrs:{id:"k-worker-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-worker-list","aria-hidden":"true"}},[e._v("#")]),e._v(" k-worker-list")]),e._v(" "),s("p",[s("code",[e._v("usage: k-worker-list [--id-only|-i]")])]),e._v(" "),s("p",[e._v("Displays the worker nodes. If the options "),s("code",[e._v("--id-only")]),e._v(" is defined, it returns the IDs of the workers.")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$k")]),e._v("-worker-list\nID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION\nafwvqo2pv90jc5us3t8nvwzsd     ip-172-31-35-40     Ready               Active                                  18.03.1-ce\nwyo0dvb85bn0ziw58v0o8u4tl     ip-172-31-39-133    Ready               Active                                  18.03.1-ce\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$k")]),e._v("-worker-list -i\nafwvqo2pv90jc5us3t8nvwzsd\nwyo0dvb85bn0ziw58v0o8u4tl\n")])])]),s("h2",{attrs:{id:"k-worker-foreach"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-worker-foreach","aria-hidden":"true"}},[e._v("#")]),e._v(" k-worker-foreach")]),e._v(" "),s("p",[s("code",[e._v("usage: k-worker-foreach --command|-c <command>")]),e._v(" "),s("code",[e._v("usage: k-worker-foreach --script|-s <script> [arguments...]")])]),e._v(" "),s("p",[e._v("Executes the given command or script on each worker")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$k")]),e._v("-worker-foreach -c "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("\"echo 'foo bar'\"")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(' foobar"\n')])])]),s("h2",{attrs:{id:"k-swarm-check"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-swarm-check","aria-hidden":"true"}},[e._v("#")]),e._v(" k-swarm-check")]),e._v(" "),s("p",[s("code",[e._v("usage: k-swarm-check <duration> [slack-url]")])]),e._v(" "),s("p",[e._v("Checks the docker events for the events of type of "),s("code",[e._v("unhealthy")]),e._v(" and "),s("code",[e._v("die")]),e._v(" status.\nThe command returns only the latest events during the given period.")]),e._v(" "),s("p",[e._v("If a slack url is given, a message is published to the given channel.")]),e._v(" "),s("h2",{attrs:{id:"k-swarm-info"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-swarm-info","aria-hidden":"true"}},[e._v("#")]),e._v(" k-swarm-info")]),e._v(" "),s("p",[s("code",[e._v("usage: k-swarm-info")])]),e._v(" "),s("p",[e._v("Displays the main information about the cluster")]),e._v(" "),s("h2",{attrs:{id:"k-swarm-prune"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-swarm-prune","aria-hidden":"true"}},[e._v("#")]),e._v(" k-swarm-prune")]),e._v(" "),s("p",[s("code",[e._v("usage: k-swarm-prune")])]),e._v(" "),s("p",[e._v("Removes the unused images, volumes and networks on the nodes")])])}],!1,null,null,null);a.default=r.exports}}]);